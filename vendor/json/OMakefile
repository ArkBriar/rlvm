#if $(not $(defined-env VERBOSE))
#  OMakeFlags(-S --progress)
#  export

if $(or $(equal $(OSTYPE), Win32), $(equal $(OSTYPE), WindowsNT))
  CXXFLAGS += -EHsc -W3 -wd4800 -wd4819 -wd4996 -U__STRICT_ANSI__ /J $(if $(defined-env DEBUG), -Od, -O2) -I./ -I../ -I../../ $(shell freetype-config --cflags) $(PLATFORMFLAGS) -D_THREAD_SAFE
  export
else
  CXXFLAGS = --ansi -U__STRICT_ANSI__ -funsigned-char $(if $(defined-env DEBUG), -g, -O2) -I./ -I../ -I../../ $(shell freetype-config --cflags) $(PLATFORMFLAGS) -D_THREAD_SAFE
  export

CFLAGS = $(CXXFLAGS)

.PHONY: clean

#########################################################################

LRLFILES[] =
  json_reader
  json_value
  json_writer

StaticCObject(libjsoncpp, $(LRLFILES))

#########################################################################

.DEFAULT: libjsoncpp$(EXT_OBJ)

clean:
  $(RM) *.o *.gch *$(EXT_LIB) *.omc
