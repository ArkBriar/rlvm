#if $(not $(defined-env VERBOSE))
#  OMakeFlags(-S --progress)
#  export

CXXFLAGS = --ansi -U__STRICT_ANSI__ -funsigned-char $(if $(defined-env DEBUG), -g, -O2) -I/opt/local/include/ -I../src -I/opt/local/include/SDL -D_THREAD_SAFE

.PHONY: clean

.SUBDIRS: Module_Str_SEEN Module_Mem_SEEN Module_Jmp_SEEN Module_Sys_SEEN ExpressionTest_SEEN

INCLUDES += ../src
LIBS += ../src/librlvm$(EXT_LIB) -L/opt/local/lib -lSDLmain -lSDL -framework Cocoa -framework OpenGL

TEST_FILES[] = 
  rlvmTest
  Module_Jmp_TUT
  Module_Str_TUT
  Module_Mem_TUT
  Module_Sys_TUT
  ExpressionTest_TUT
  Gameexe_TUT

.DEFAULT: $(CXXProgram rlvmTest, $(TEST_FILES))
rlvmTest$(EXE): ../src/librlvm$(EXT_LIB) Module_Str_SEEN Module_Mem_SEEN Module_Jmp_SEEN

clean:
  $(RM) *.o *.gch *$(EXT_LIB) *.omc rlvmTest$(EXE) rlvmTest$(EXE).stackdump
