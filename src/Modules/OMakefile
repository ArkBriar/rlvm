#if $(not $(defined-env VERBOSE))
#  OMakeFlags(-S --progress)
#  export

CXXFLAGS = --ansi -U__STRICT_ANSI__ -funsigned-char $(if $(defined-env DEBUG), -g, -O2) -I./ -I../ $(PLATFORMFLAGS) -D_THREAD_SAFE

# for testing
#CXXFLAGS += -DWIN32

.PHONY: clean

########

LRLFILES[] =
  Modules
  Module_Grp
  Module_Jmp
  Module_Mem
  Module_Msg
  Module_Scr
  Module_Str
  Module_Sys
  Module_Sys_Frame
  Module_Sys_Timer
  cp932toUnicode
  Effect
  FadeEffect
  WipeEffect
  ScrollOnScrollOff
  BlindEffect
  EffectFactory
  Module_Obj
  Module_ObjFgBg
  Module_ObjCreation
  Module_ObjManagement
  Module_ObjPosDims
  Module_Refresh
  Module_Debug
  TextoutLongOperation

StaticCObject(libModules, $(LRLFILES))

########

LIBS += -L/opt/local/lib
.DEFAULT: libModules$(EXT_OBJ)

clean:
  $(RM) *.o *.gch *$(EXT_LIB) *.omc
