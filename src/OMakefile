#if $(not $(defined-env VERBOSE))
#  OMakeFlags(-S --progress)
#  export

CXXFLAGS = --ansi -U__STRICT_ANSI__ -funsigned-char -Wall $(if $(defined-env DEBUG), -g, -O2) -I/opt/local/include/ -I/opt/local/include/SDL -D_THREAD_SAFE

# for testing
#CXXFLAGS += -DWIN32

.PHONY: clean
.SUBDIRS: libReallive Modules MachineBase Systems
########

LIBRLVMFILES[] = 
  MachineBase/libMachineBase
  Modules/libModules
  Systems/Base/GraphicsObject
  Systems/Base/FrameCounter
  Systems/Base/EventSystem
  Systems/SDL/libSDLSystem
  libReallive/libReallive

StaticCLibrary(librlvm, $(LIBRLVMFILES))

########

LIBS += librlvm$(EXT_LIB) -L/opt/local/lib -lSDLmain -lSDL -lSDL_image -framework Cocoa -framework OpenGL
.DEFAULT: librlvm$(EXT_LIB) $(CXXProgram rlvm, rlvm)
rlvm$(EXE): librlvm$(EXT_LIB) 

clean:
  $(RM) *.o *.gch *$(EXT_LIB) *.omc rlvm$(EXE) rlvm$(EXE).stackdump
